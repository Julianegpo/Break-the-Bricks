{"mappings":"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","sources":["assets/utils/Constants.ts","actors/Ball.ts","actors/Bar.ts","actors/FPSViewer.ts","src/script.ts"],"sourcesContent":["export const Constants = {\r\n    KEYDOWN_ARROW_RIGHT: \"ArrowRight\",\r\n    KEYDOWN_ARROW_LEFT: \"ArrowLeft\",\r\n    KEYDOWN_SPACEBAR: \" \"\r\n}","import { Constants } from \"../assets/utils/Constants\";\r\nimport { Actor } from \"./Actor\";\r\nimport { Bar } from \"./Bar\";\r\n\r\nexport class Ball implements Actor {\r\n    position: { x: number; y: number; };\r\n    ctx: CanvasRenderingContext2D;\r\n    speed: { dx: number, dy: number };\r\n    playerBar: Bar;\r\n\r\n    constructor(position, ctx: CanvasRenderingContext2D, playerBar: Bar) {\r\n        this.position = { x: position.x, y: position.y };\r\n        this.ctx = ctx;\r\n        this.speed = { dx: 0, dy: 0 };\r\n        this.playerBar = playerBar;\r\n    }\r\n    update(delta: number, canvasWidth, canvasHeight) {\r\n        // canvas limits\r\n        if (this.position.x + this.speed.dx >= canvasWidth\r\n            || this.position.x + this.speed.dx <= 0)\r\n            this.speed.dx = -this.speed.dx;\r\n        if (this.position.y + this.speed.dy >= canvasHeight\r\n            || this.position.y + this.speed.dy <= 0)\r\n            this.speed.dy = -this.speed.dy;\r\n\r\n        // collider with bar\r\n        if (this.position.x > this.playerBar.position.x\r\n            && this.position.x < this.playerBar.position.x + 80\r\n            && this.position.y > this.playerBar.position.y\r\n            && this.position.y < this.playerBar.position.y + 15)\r\n            this.speed.dy = -this.speed.dy;\r\n\r\n        // if ball reaches bottom, game over\r\n        if (this.position.y >= canvasHeight - 10) {\r\n            this.speed.dx = 0;\r\n            this.speed.dy = 0;\r\n        }\r\n\r\n        // ball movement\r\n        this.position.x += this.speed.dx * (delta * 100);\r\n        this.position.y += this.speed.dy * (delta * 100);\r\n    }\r\n    draw(delta: number, ctx: CanvasRenderingContext2D) {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = \"pink\";\r\n        ctx.fillStyle = \"pink\";\r\n        ctx.arc(this.position.x, this.position.y, 10, 0, Math.PI * 2, true);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n    keyboard_event(key: string) { \r\n        if (key === Constants.KEYDOWN_SPACEBAR) {\r\n            // ball movement\r\n            this.speed.dx = 2;\r\n            this.speed.dy = 4;\r\n        }\r\n    }\r\n}","import { Actor } from \"./Actor\";\r\nimport { Constants } from \"../assets/utils/Constants\";\r\n\r\nexport class Bar implements Actor {\r\n    position: { x: number; y: number; };\r\n    ctx: CanvasRenderingContext2D;\r\n    speed: number;\r\n\r\n    constructor(position, ctx: CanvasRenderingContext2D, speed = 0) {\r\n        this.position = { x: position.x, y: position.y };\r\n        this.ctx = ctx;\r\n        this.speed = speed;\r\n    }\r\n    update(delta: number, canvasWidth) {\r\n        let newPosition = this.position.x + (this.speed * delta)\r\n        if (newPosition + 80 <= canvasWidth\r\n            && newPosition >= 0) {\r\n            this.position.x = newPosition;\r\n        }\r\n    }\r\n    draw(delta: number, ctx: CanvasRenderingContext2D) {\r\n        ctx.strokeStyle = \"white\";\r\n        ctx.fillStyle = \"white\";\r\n        ctx.rect(this.position.x, this.position.y, 80, 15);\r\n        ctx.fill();\r\n    }\r\n    keyboard_event(key: string) {\r\n        switch (key) {\r\n            case Constants.KEYDOWN_ARROW_RIGHT:\r\n                this.speed = 225;\r\n                break;\r\n            case Constants.KEYDOWN_ARROW_LEFT:\r\n                this.speed = -225;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}","import { Actor } from \"./Actor\";\r\n\r\nexport class FPSViewer implements Actor {\r\n    position: { x: number; y: number; };\r\n    ctx: CanvasRenderingContext2D;\r\n\r\n    constructor(position) {\r\n        this.position = position;\r\n    }\r\n    update(delta: number, canvasWidth: number, canvasHeight: number) { }\r\n    draw(delta: number, ctx: CanvasRenderingContext2D) {\r\n        const fps = (1 / delta).toFixed(2);\r\n        ctx.font = '20px Arial';\r\n        ctx.fillStyle = 'yellow';\r\n        ctx.fillText(`FPS: ${fps}`, this.position.x, this.position.y)\r\n    }\r\n    keyboard_event(key: string) { }\r\n}","import { Ball } from \"../actors/Ball\";\r\nimport { Bar } from \"../actors/Bar\";\r\nimport { FPSViewer } from \"../actors/FPSViewer\";\r\n\r\nwindow.onload = () => {\r\n    // onload setup getting canvas and generating actors\r\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement;\r\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    let actors = generateActors(ctx, canvas);\r\n\r\n    // render phase\r\n    let lastFrame = 0;\r\n    const render = (time) => {\r\n        let delta = (time - lastFrame) / 1000;\r\n        lastFrame = time;\r\n        actors.forEach((e) => {\r\n            e.update(delta, canvas.width, canvas.height);\r\n        });\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        actors.forEach((e) => {\r\n            e.draw(delta, ctx);\r\n        });\r\n        window.requestAnimationFrame(render);\r\n    };\r\n\r\n    window.requestAnimationFrame(render);\r\n\r\n    // registering keyboard inputs for player movement\r\n    document.body.addEventListener('keydown', (e) => {\r\n        actors.forEach((actor) => {\r\n            actor.keyboard_event(e.key);\r\n        });\r\n    });\r\n}\r\n\r\n// generate the player bar and bricks for game start\r\nfunction generateActors(ctx: CanvasRenderingContext2D, canvas: HTMLCanvasElement) {\r\n    const fpsViewer = new FPSViewer({ x: (canvas.width / 2) - 50, y: canvas.height });\r\n    const playerBar = new Bar({ x: (canvas.width / 2) - 40, y: 450 }, ctx);\r\n    const ball = new Ball({ x: 250, y: 100 }, ctx, playerBar);\r\n\r\n    return [\r\n        fpsViewer,\r\n        playerBar,\r\n        ball\r\n    ];\r\n}"],"names":["$6b067ac5b9bd76af$export$a002182e51710d39","$9bd5c5a1af2bf427$export$a83d7c3fa53790c9","constructor","position","ctx","playerBar","this","x","y","speed","dx","dy","update","delta","canvasWidth","canvasHeight","draw","beginPath","strokeStyle","fillStyle","arc","Math","PI","closePath","fill","keyboard_event","key","$f348a45267fcd837$export$bbc6c6369b38e3d1","newPosition","rect","$5bb922c1489d4cff$export$13acb86b4b3ca30e","fps","toFixed","font","fillText","window","onload","canvas","document","getElementById","getContext","actors","fpsViewer","width","height","ball","$0f592d681121713f$var$generateActors","lastFrame","render","time","forEach","e","clearRect","requestAnimationFrame","body","addEventListener","actor"],"version":3,"file":"index.acf15986.js.map"}